<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="com.pers.aiyin.fitness.mapper.custom.UserMapper">
    <resultMap id="BaseResultMap" type="com.pers.aiyin.fitness.entity.Course">
        <id column="course_id" jdbcType="INTEGER" property="courseId" />
        <result column="course_name" jdbcType="VARCHAR" property="courseName" />
        <result column="course_time_start" jdbcType="TIMESTAMP" property="courseTimeStart" />
        <result column="course_time_end" jdbcType="TIMESTAMP" property="courseTimeEnd" />
        <result column="room_id" jdbcType="INTEGER" property="roomId" />
        <result column="room_name" jdbcType="VARCHAR" property="roomName" />
        <result column="coach_id" jdbcType="INTEGER" property="coachId" />
        <result column="coach_name" jdbcType="VARCHAR" property="coachName" />
        <result column="course_type" jdbcType="VARCHAR" property="courseType" />
        <result column="course_capacity" jdbcType="INTEGER" property="courseCapacity" />
        <result column="course_surplus" jdbcType="INTEGER" property="courseSurplus" />
    </resultMap>

    <select id="getCourse" parameterType="java.util.Map" resultMap="BaseResultMap">
        select course_id,course_name,course_time_start,course_time_end,
        room_id,room_name,coach_id,coach_name,course_type,course_capacity,
        course_surplus
        from course
        where course_type=#{courseType}
        <if test="beginDate != null and beginDate != ''">
            AND course_time_start <![CDATA[>=]]> #{beginDate}
        </if>

    </select>


  <!--  <select id="login" parameterType="com.pers.aiyin.fitness.entity.User" resultType="java.lang.String">
    select name from user
    where name=#{name} and password=#{password}
    </select>
    <insert id="insert" parameterType="com.pers.aiyin.fitness.entity.User" useGeneratedKeys="true" keyColumn="id" keyProperty="id"
        >
        INSERT INTO `user` (`name`,password,email) VALUES (#{name},#{password},#{email})
        <selectKey resultType="int" keyProperty="id" order="AFTER">
            SELECT LAST_INSERT_ID()
        </selectKey>
    </insert>-->



</mapper>